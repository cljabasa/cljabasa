---
import BaseLayout from '../../layouts/BaseLayout.astro';

const blogPostsRaw = Astro.fetchContent('./*.md');
const blogPosts = blogPostsRaw.sort((a, b) => new Date(b.publishDate) - new Date(a.publishDate));
---
<BaseLayout
  title="Christian Jabasa's Blog"
  image="https://res.cloudinary.com/kadto/image/upload/v1621041884/cljabasa/blog/green-chameleon-s9CC2SKySJM-unsplash_thumb.jpg"
>
  <div class="flex flex-col pb-16">
    <div class="hero-container-row px-6 mb-6">
      <div class="hero-container">
        <h1 class="hero-title">Christian Jabasa's Blog</h1>

        <h4 class="hero-subtitle">It ain't much but it's honest work.</h4>
      </div>
    </div>

    <div class="flex flex-row justify-center">
      <div class="w-full lg:w-7/12 flex flex-col space-y-16 px-6">
        {blogPosts.map(blogPost => (
          <a href={blogPost.url}>
            <div>
              <div class="aspect-w-16 aspect-h-10 mb-6">
                <img src={blogPost.heroImage} alt="" class="object-cover rounded-md shadow-md">
              </div>

              <div class="mb-3">
                <h2 class="text-black dark:text-white text-3xl lg:text-4xl font-bold mb-2">
                  {blogPost.title}
                </h2>

                <div class="flex flex-row space-x-8 items-baseline">
                  <h5 class="text-black dark:text-white text-base font-medium">
                    {blogPost.author}
                  </h5>

                  <h6 class="text-black dark:text-white text-sm font-normal">
                    {blogPost.publishDate}
                  </h6>
                </div>
              </div>

              <h5 class="text-black dark:text-white text-lg">{blogPost.description}</h5>
            </div>
          </a>
        ))}
      </div>
    </div>
  </div>
</BaseLayout>
